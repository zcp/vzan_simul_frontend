 # 直播SaaS平台前端代码生成提示词

## 1. 目标与背景说明

> **全局约束：所有生成内容必须严格遵循《直播SaaS平台前端设计文档.md》与本提示词的规范，任何细节不得偏离。每个页面、组件、接口、样式、测试都要对齐后端API、字段、交互、异常处理等，且不得自作主张添加未定义功能。**

- 本提示词用于AI自动生成“直播SaaS平台”前端项目代码，要求所有生成内容与《直播SaaS平台前端设计文档.md》完全一致。
- 目标是生成一套可在PC、Android、iOS、微信小程序多端部署的直播平台前端，基于uni-app（Vue3 + TypeScript），严格对齐FastAPI后端接口，体验参考B站/抖音，但以现有后端接口为准。
- 代码需满足高可维护性、可扩展性、团队协作和医学场景下的专业性、安全性。

---

## 2. 技术栈与项目结构要求

> **全局约束：所有生成内容必须严格遵循《直播SaaS平台前端设计文档.md》与本提示词的规范，任何细节不得偏离。每个页面、组件、接口、样式、测试都要对齐后端API、字段、交互、异常处理等，且不得自作主张添加未定义功能。**

- 框架：uni-app（Vue3 + Composition API + TypeScript）
- 状态管理：Pinia
- UI库：uView Plus、NutUI、Vant（按需引入）
- 视频播放：uni-app自带video组件（优先）、H5端可选video.js
- 网络请求：基于uni.request二次封装，适配FastAPI RESTful接口，支持token自动注入、统一异常处理
- 路由：uni-app内置路由
- 目录结构：
  - pages/：页面级组件，按业务模块分子目录
  - components/：通用/业务组件
  - store/：全局状态管理
  - api/：后端接口封装
  - utils/：工具函数
  - static/：静态资源
  - common/：全局样式、mixin
  - uni_modules/：uni-app插件
  - tests/：单元/集成测试
- 命名规范：变量/函数camelCase，组件PascalCase，文件kebab-case，常量UPPER_SNAKE_CASE

---

## 3. 代码生成通用要求

> **全局约束：所有生成内容必须严格遵循《直播SaaS平台前端设计文档.md》与本提示词的规范，任何细节不得偏离。每个页面、组件、接口、样式、测试都要对齐后端API、字段、交互、异常处理等，且不得自作主张添加未定义功能。**

- 组件化开发，单文件组件结构清晰（<template> <script lang="ts"> <style scoped>）
- TypeScript优先，类型声明完整，接口数据类型与后端保持同步
- 常量、枚举、配置项集中管理（如src/common/constants.ts）
- 关键业务逻辑、接口调用、复杂计算需有中英文注释，函数/组件需有JSDoc风格注释
- Git提交规范采用Conventional Commits
- 单元测试覆盖率>80%，端到端测试覆盖核心流程
- 所有接口mock数据需与后端接口文档保持同步
- 前端安全规范（XSS防护、敏感信息脱敏、HTTPS强制、Token安全存储、接口安全、CSRF防护、日志脱敏、依赖安全）
- 响应式布局，断点适配，样式集中管理，通用组件自适应多端
- 无障碍与可访问性（色彩对比、键盘操作、ARIA标签、焦点样式）

---

## 推荐项目目录结构

> **全局约束：所有生成内容必须严格遵循《直播SaaS平台前端设计文档.md》与本提示词的规范，任何细节不得偏离。每个页面、组件、接口、样式、测试都要对齐后端API、字段、交互、异常处理等，且不得自作主张添加未定义功能。**

以下为建议生成的前端项目目录结构，具体到主要文件和文件夹，已与现有frontend_live目录融合，并完全对齐前端设计文档：

```plaintext
frontend_live/
│
├── App.vue                        # 应用入口主组件
├── main.js                        # 应用入口JS
├── package.json                   # 项目依赖与脚本
├── pages.json                     # uni-app页面路由配置
├── manifest.json                  # uni-app应用配置
├── uni.scss                       # 全局样式变量
├── index.html                     # H5入口
├── jest.config.js                 # 单元测试配置
├── README.md                      # 项目说明文档
├── changelog.md                   # 变更记录
│
├── common/                        # 全局样式、mixin、常量
│   ├── constants.ts               # 全局常量、枚举
│   ├── responsive.scss            # 响应式断点/全局样式
│   └── ...                        # 其他全局mixin/样式
│
├── api/                           # 后端接口封装
│   ├── room.ts                    # 房间相关API
│   ├── session.ts                 # 场次相关API
│   ├── statistics.ts              # 统计相关API
│   ├── request.ts                 # 网络请求封装
│   └── ...                        # 其他API模块
│
├── store/                         # 全局状态管理
│   ├── room.ts                    # 房间状态
│   ├── session.ts                 # 场次状态
│   ├── user.ts                    # 用户/Token状态（预留）
│   └── index.ts                   # store入口
│
├── utils/                         # 工具函数
│   ├── time.ts                    # 时间/日期处理
│   ├── validate.ts                # 表单校验
│   ├── security.ts                # 安全相关工具
│   └── ...                        # 其他工具
│
├── components/                    # 通用/业务组件
│   ├── RoomCard.vue               # 房间卡片
│   ├── SessionCard.vue            # 场次卡片
│   ├── SkeletonList.vue           # 骨架屏
│   ├── ModalDialog.vue            # 通用弹窗
│   ├── ConfirmDialog.vue          # 二次确认弹窗
│   ├── Pagination.vue             # 分页组件
│   ├── Loading.vue                # Loading动画
│   ├── ErrorToast.vue             # 错误提示
│   ├── CopyButton.vue             # 复制按钮
│   └── ...                        # 其他通用组件
│
├── pages/                         # 页面级组件（按业务模块分子目录）
│   ├── home/                      # 首页/房间列表
│   │   └── index.vue
│   ├── room/                      # 房间详情/分会场
│   │   ├── detail.vue
│   │   ├── edit.vue
│   │   ├── create.vue
│   │   └── subVenue.vue
│   ├── session/                   # 场次列表/详情
│   │   ├── list.vue
│   │   ├── detail.vue
│   │   ├── edit.vue
│   │   └── create.vue
│   ├── live/                      # 直播观看页
│   │   └── index.vue
│   ├── push/                      # 推流信息页
│   │   └── index.vue
│   ├── error/                     # 全局异常页
│   │   └── index.vue
│   └── ...                        # 其他业务页面
│
├── static/                        # 静态资源（图片、icon等）
│   └── ...
│
├── uni_modules/                   # uni-app插件
│   └── ...
│
├── tests/                         # 单元/集成/端到端测试
│   ├── unit/                      # 单元测试
│   │   ├── RoomCard.spec.ts
│   │   ├── SessionCard.spec.ts
│   │   └── ...
│   ├── integration/               # 集成测试
│   │   └── ...
│   └── e2e/                       # 端到端测试
│       └── ...
│
├── windows/                       # uni-app平台相关
├── wxcomponents/                  # 微信小程序组件
├── platforms/                     # 其他平台相关
├── hybrid/                        # 混合开发相关
│
└── 直播SaaS平台前端设计文档.md     # 设计文档（只读/参考）
└── 前后端设计一致性检查报告.md     # 一致性报告（只读/参考）
└── 直播SaaS平台前端代码生成提示词.md # 代码生成提示词（只读/参考）
```

---

## 4. 各核心页面/模块代码生成详细提示词

> **全局约束：所有生成内容必须严格遵循《直播SaaS平台前端设计文档.md》与本提示词的规范，任何细节不得偏离。每个页面、组件、接口、样式、测试都要对齐后端API、字段、交互、异常处理等，且不得自作主张添加未定义功能。**

### 4.1 房间列表页（首页）
- 生成支持分页、筛选、搜索、卡片式布局的房间列表页面。
- 数据通过GET /api/v1/rooms获取，严格按后端分页参数和响应结构渲染。
- 支持主会场/分会场筛选，点击卡片跳转详情。
- 加载时显示骨架屏，网络异常时友好提示并可重试。
- 响应式布局，适配PC/移动/小程序。

### 4.2 房间详情页
- 生成房间详情页面，展示房间信息、分会场导航、场次列表入口。
- 数据通过GET /api/v1/rooms/{room_id}获取。
- 支持编辑、删除房间（PATCH/DELETE），操作前二次确认，禁用正在直播的房间的编辑/删除。
- 支持创建分会场（POST /api/v1/rooms，带parent_room_id），弹窗表单校验。
- 展示分会场列表（GET /api/v1/rooms/{room_id}/sub-venues），点击跳转分会场详情。
- 展示场次列表入口，点击跳转场次列表页。
- 网络或接口异常时统一弹窗提示。

### 4.3 分会场详情页
- 生成分会场详情页面，突出主/分会场层级。
- 支持编辑、删除分会场，操作前二次确认，禁用正在直播的分会场的编辑/删除。
- 展示所属主会场信息，支持返回主会场详情。
- 展示场次列表入口，点击跳转场次列表页。

### 4.4 场次列表页
- 生成场次列表页面，支持分页、按时间/状态筛选。
- 数据通过GET /api/v1/rooms/{room_id}/sessions获取。
- 支持创建新场次（POST），弹窗表单校验。
- 点击场次卡片跳转场次详情。
- 支持编辑、删除场次，操作前二次确认，禁用正在直播的场次的编辑/删除。

### 4.5 场次详情页
- 生成场次详情页面，展示场次基本信息、直播流信息、统计数据。
- 数据通过GET /api/v1/sessions/{session_id}获取。
- 支持编辑、删除场次，操作前二次确认。
- 支持回放入口（如有视频ID）。
- 网络异常时统一弹窗提示。

### 4.6 直播观看页
- 生成直播观看页面，自动加载视频流，显示Loading动画。
- 视频加载成功后展示直播流和实时数据区，支持实时观众数展示。
- 网络异常时自动重连并提示用户。
- 支持返回房间详情/首页。

### 4.7 推流信息页
- 生成推流信息页面，展示推流码、二维码，支持一键复制。
- 提供推流教程入口，推流状态实时刷新，异常时高亮提示。

### 4.8 全局异常页
- 生成全局异常页面，捕获404、维护、网络异常等，展示友好提示。
- 提供返回首页、重试等操作。

---

## 5. 多端适配与通用组件生成要求

> **全局约束：所有生成内容必须严格遵循《直播SaaS平台前端设计文档.md》与本提示词的规范，任何细节不得偏离。每个页面、组件、接口、样式、测试都要对齐后端API、字段、交互、异常处理等，且不得自作主张添加未定义功能。**

- 所有页面和组件需支持PC、移动、微信小程序等多端适配。
- 响应式断点：≥1200px为PC，768~1199px为平板，≤767px为手机/小程序。
- 样式集中管理，断点、控件尺寸、字体、间距等通过全局变量统一。
- 通用组件（按钮、表单、弹窗、卡片等）需高复用、风格统一、可配置、无障碍。
- 组件需有详细文档、单元测试、多端验收。

---

## 6. 其他生成要求

> **全局约束：所有生成内容必须严格遵循《直播SaaS平台前端设计文档.md》与本提示词的规范，任何细节不得偏离。每个页面、组件、接口、样式、测试都要对齐后端API、字段、交互、异常处理等，且不得自作主张添加未定义功能。**

- 代码需有详细注释和类型声明，接口调用严格对齐后端API。
- 所有安全规范（XSS、脱敏、Token、CSRF等）必须在代码中体现。
- 性能优化：骨架屏、Loading动画、弱网处理、懒加载。
- 团队协作：组件文档、设计稿链接、变更记录、版本管理。

---

> 请严格按照本提示词生成直播SaaS平台前端项目的所有页面、组件、接口、样式、测试等代码，确保与《直播SaaS平台前端设计文档.md》完全一致，满足多端适配、医学场景安全与专业性要求。