# 专题功能前端代码生成提示词 (Element Plus 版)

## 角色与目标

你是一名资深前端重构工程师，精通 Element Plus 并对 UI 细节有像素级要求。我有一个已经可以完整运行的前端项目，其核心功能和业务逻辑（API 请求、状态管理、数据处理）已经全部实现。

你的核心任务是"专题功能前端开发"，即根据后端专题功能设计文档构建完整的专题管理前端页面。注意：这是从零开始的全新功能开发，需要创建专题创建、专题展示、专题管理等完整页面，但必须最大程度复用现有的 API 请求工具、状态管理方式和 UI 组件库。

## 功能范围说明

### 本期实现功能
- **专题创建页面** (`TopicCreate.vue`) - 上传Banner图片，选择直播间，创建专题
- **专题展示页面** (`TopicDisplay.vue`) - 复用VenueDisplayPage.vue的样式和布局
- **专题列表页面** (`TopicList.vue`) - 展示所有专题，支持筛选和分页
- **专题管理页面** (`TopicManage.vue`) - 编辑专题信息，管理分类和直播间关联
- **专题状态管理** - 新增专题相关的Pinia store

### 暂缓实现功能
- 专题的批量操作（批量删除、批量发布等）
- 专题的统计分析功能
- 专题的权限管理（多用户协作）

## API 需求说明

### 必需 API（基于后端设计文档）
- **专题管理**：
  - `POST /api/v1/topics` - 创建专题
  - `GET /api/v1/topics` - 获取专题列表（支持分页、状态筛选）
  - `GET /api/v1/topics/{topic_id}` - 获取专题详情（包含层级化数据）
  - `PATCH /api/v1/topics/{topic_id}` - 更新专题信息
  - `DELETE /api/v1/topics/{topic_id}` - 删除专题

- **分类管理**：
  - `POST /api/v1/topics/{topic_id}/categories` - 创建专题分类
  - `GET /api/v1/topics/{topic_id}/categories` - 获取专题分类列表
  - `PATCH /api/v1/topic-categories/{category_id}` - 更新分类信息
  - `DELETE /api/v1/topic-categories/{category_id}` - 删除分类

- **直播间关联管理**：
  - `POST /api/v1/topic-categories/{category_id}/rooms` - 添加直播间到分类
  - `GET /api/v1/topic-categories/{category_id}/rooms` - 获取分类下的直播间列表
  - `PATCH /api/v1/topic-categories/{category_id}/rooms/sort-order` - 更新直播间排序
  - `DELETE /api/v1/topic-categories/{category_id}/rooms` - 从分类中移除直播间

- **辅助查询**：
  - `GET /api/v1/rooms/{room_id}/topics` - 获取直播间关联的专题列表
  - `POST /api/v1/rooms/batch-status` - 批量获取直播间状态

### 数据字段映射
- **专题字段**：`id`, `title`, `description`, `banner_url`, `status`, `user_id`, `created_at`, `updated_at`
- **分类字段**：`id`, `topic_id`, `name`, `sort_order`, `created_at`, `updated_at`
- **直播间字段**：`id`, `title`, `cover_url`, `live_status`, `start_time`, `heat`

## 核心原则

1. **UI 组件库**：所有 UI 元素必须使用 Element Plus 组件；遵循官方最佳实践。
2. **逻辑复用**：尽可能复用现有的 API 请求工具、时间清洗与格式化逻辑、Pinia store。
3. **样式复用**：专题展示页面必须完全复用 VenueDisplayPage.vue 的样式和布局。
4. **状态管理**：创建专题相关的 Pinia store，管理专题数据状态。
5. **路由设计**：遵循现有项目的路由命名规范。

---

## 任务一：创建专题状态管理 (Pinia Store)

文件路径：`/src/store/topic.ts`

### 1. Store 结构设计

```typescript
// 专题状态管理
interface TopicState {
  topics: Topic[];           // 专题列表
  currentTopic: Topic | null; // 当前专题详情
  categories: TopicCategory[]; // 当前专题的分类列表
  loading: boolean;          // 加载状态
  error: string | null;      // 错误信息
}

// 专题相关操作
const useTopicStore = defineStore('topic', {
  state: (): TopicState => ({...}),
  actions: {
    // 专题 CRUD
    fetchTopics(params?: TopicListParams): Promise<void>
    fetchTopicById(topicId: string): Promise<void>
    createTopic(topicData: TopicCreate): Promise<Topic>
    updateTopic(topicId: string, topicData: TopicUpdate): Promise<Topic>
    deleteTopic(topicId: string): Promise<void>
    
    // 分类管理
    fetchCategories(topicId: string): Promise<void>
    createCategory(topicId: string, categoryData: CategoryCreate): Promise<TopicCategory>
    updateCategory(categoryId: string, categoryData: CategoryUpdate): Promise<TopicCategory>
    deleteCategory(categoryId: string): Promise<void>
    
    // 直播间关联管理
    fetchCategoryRooms(categoryId: string): Promise<void>
    addRoomsToCategory(categoryId: string, rooms: RoomAssociation[]): Promise<void>
    updateRoomSortOrder(categoryId: string, rooms: RoomAssociation[]): Promise<void>
    removeRoomsFromCategory(categoryId: string, roomIds: string[]): Promise<void>
  }
});
```

### 2. 类型定义

```typescript
// 专题相关类型定义
interface Topic {
  id: string;
  user_id: string;
  title: string;
  description?: string;
  banner_url?: string;
  status: 'draft' | 'published' | 'archived';
  created_at: string;
  updated_at: string;
  categories?: CategoryWithRooms[];
}

interface TopicCategory {
  id: string;
  topic_id: string;
  name: string;
  sort_order: number;
  created_at: string;
  updated_at: string;
  rooms?: RoomInCategory[];
}

interface RoomInCategory {
  id: string;
  title: string;
  cover_url?: string;
  live_status: string;
  start_time?: string;
  heat: number;
  sort_order: number;
}
```

---

## 任务二：创建专题创建页面

文件路径：`/src/pages/topic/TopicCreate.vue`

### 1. 页面布局（<template>）

使用 Element Plus 的 `el-container` 构建表单布局：

1) **页面头部**
- 使用 `el-page-header` 显示页面标题和返回按钮
- 标题："创建专题"

2) **表单区域**
- 使用 `el-form` 包裹所有表单字段
- 表单验证规则：标题必填，描述可选，Banner图片可选

3) **Banner上传区域**
- 使用 `el-upload` 组件实现图片上传
- 支持拖拽上传，预览功能
- 上传成功后显示预览图

4) **直播间选择区域**
- 使用 `el-transfer` 或自定义选择组件
- 左侧：所有可选的直播间列表
- 右侧：已选择的直播间列表
- 支持搜索和筛选功能

5) **分类管理区域**
- 动态添加/删除分类（如"湖南省"、"云南省"等）
- 每个分类可以编辑名称
- 每个分类可以分配选中的直播间
- 支持拖拽排序
- 分类列表使用 `el-card` 展示，每个分类卡片包含：
  - 分类名称输入框（可编辑）
  - 已分配的直播间数量显示
  - "选择直播间"按钮（打开弹窗）
  - "删除分类"按钮

6) **直播间选择弹窗**
- 全屏弹窗展示所有直播间列表
- 使用 `el-table` 实现多选功能
- 支持按标题搜索直播间
- 显示直播间封面、标题、状态、创建时间
- 底部显示已选择数量
- 确认/取消按钮

7) **操作按钮**
- "保存草稿" - 状态设为 draft
- "发布专题" - 状态设为 published
- "取消" - 返回上一页

### 2. 逻辑与样式（<script setup> + <style scoped>）

**逻辑要点**：
- 表单验证：使用 Element Plus 的表单验证规则
- 图片上传：集成现有的图片上传工具
- 分类管理：支持动态添加/删除分类（如"湖南省"、"云南省"等），每个分类可编辑名称
- 直播间选择：通过弹窗形式展示所有直播间列表，支持多选
- 数据提交：调用 topic store 的 createTopic 方法

**样式要点**：
- 表单布局：使用 `el-row` 和 `el-col` 实现响应式布局
- 上传组件：自定义上传区域的样式
- 分类管理：使用 `el-input` 和 `el-button` 实现动态添加/删除分类
- 直播间选择弹窗：使用 `el-dialog` 和 `el-table` 实现多选列表

### 3. 直播间选择弹窗设计

**弹窗组件** (`RoomSelectionDialog.vue`)：
- 使用 `el-dialog` 实现全屏弹窗
- 使用 `el-table` 展示所有直播间列表，支持多选
- 集成搜索功能：按标题搜索直播间
- 显示直播间基本信息：封面、标题、状态、创建时间
- 底部操作按钮：取消、确定选择
- 已选择的直播间数量提示

**弹窗功能**：
- 获取所有直播间数据：调用 `roomStore.fetchRooms()`
- 多选功能：使用 `el-table` 的 `selection` 列
- 搜索过滤：实时搜索直播间标题
- 选择确认：返回选中的直播间ID列表

### 4. 专题创建页面详细实现

**页面结构**：
```vue
<template>
  <el-container class="topic-create-container">
    <!-- 页面头部 -->
    <el-page-header @back="goBack" title="创建专题">
      <template #extra>
        <el-button @click="handleSaveDraft">保存草稿</el-button>
        <el-button type="primary" @click="handlePublish">发布专题</el-button>
      </template>
    </el-page-header>

    <!-- 表单区域 -->
    <el-form :model="formData" :rules="formRules" ref="formRef">
      <!-- Banner上传区域 -->
      <el-card class="upload-card">
        <template #header>
          <span>专题Banner</span>
        </template>
        <el-upload
          class="banner-uploader"
          :show-file-list="false"
          :before-upload="beforeUpload"
          :http-request="handleUpload"
        >
          <img v-if="formData.banner_url" :src="formData.banner_url" class="banner-preview" />
          <el-icon v-else class="banner-uploader-icon"><Plus /></el-icon>
        </el-upload>
      </el-card>

      <!-- 基本信息 -->
      <el-card class="basic-info-card">
        <template #header>
          <span>基本信息</span>
        </template>
        <el-form-item label="专题标题" prop="title">
          <el-input v-model="formData.title" placeholder="请输入专题标题" />
        </el-form-item>
        <el-form-item label="专题描述" prop="description">
          <el-input
            v-model="formData.description"
            type="textarea"
            :rows="3"
            placeholder="请输入专题描述"
          />
        </el-form-item>
      </el-card>

      <!-- 分类管理区域 -->
      <el-card class="categories-card">
        <template #header>
          <div class="card-header">
            <span>分类管理</span>
            <el-button type="primary" size="small" @click="addCategory">
              <el-icon><Plus /></el-icon>
              添加分类
            </el-button>
          </div>
        </template>
        
        <div class="categories-list">
          <el-card
            v-for="(category, index) in formData.categories"
            :key="index"
            class="category-card"
          >
            <div class="category-content">
              <el-input
                v-model="category.name"
                placeholder="请输入分类名称"
                class="category-name-input"
              />
              <div class="category-info">
                <span class="room-count">已选择 {{ category.rooms.length }} 个直播间</span>
                <el-button size="small" @click="openRoomSelection(index)">
                  选择直播间
                </el-button>
                <el-button size="small" type="danger" @click="removeCategory(index)">
                  删除
                </el-button>
              </div>
            </div>
          </el-card>
        </div>
      </el-card>
    </el-form>

    <!-- 直播间选择弹窗 -->
    <RoomSelectionDialog
      v-model:visible="roomSelectionVisible"
      :selected-rooms="currentCategoryRooms"
      @confirm="handleRoomSelection"
    />
  </el-container>
</template>
```

**数据模型**：
```typescript
interface TopicCreateForm {
  title: string;
  description: string;
  banner_url: string;
  status: 'draft' | 'published';
  categories: CategoryForm[];
}

interface CategoryForm {
  name: string;
  rooms: RoomInCategory[];
}

interface RoomInCategory {
  id: string;
  title: string;
  cover_url: string;
  live_status: string;
  start_time: string;
  heat: number;
}
```

**核心功能实现**：
1. **分类管理**：
   - `addCategory()` - 添加新分类
   - `removeCategory(index)` - 删除分类
   - `openRoomSelection(index)` - 打开直播间选择弹窗

2. **直播间选择**：
   - 弹窗组件 `RoomSelectionDialog`
   - 支持多选和搜索
   - 选择确认后更新对应分类的直播间列表

3. **数据提交**：
   - `handleSaveDraft()` - 保存为草稿
   - `handlePublish()` - 发布专题
   - 表单验证和错误处理

### 5. 直播间选择弹窗组件设计

**组件文件**：`/src/components/RoomSelectionDialog.vue`

**弹窗结构**：
```vue
<template>
  <el-dialog
    v-model="visible"
    title="选择直播间"
    width="90%"
    :before-close="handleClose"
    class="room-selection-dialog"
  >
    <!-- 搜索区域 -->
    <div class="search-section">
      <el-input
        v-model="searchKeyword"
        placeholder="搜索直播间标题"
        clearable
        @input="handleSearch"
      >
        <template #prefix>
          <el-icon><Search /></el-icon>
        </template>
      </el-input>
    </div>

    <!-- 直播间列表 -->
    <el-table
      ref="tableRef"
      :data="filteredRooms"
      @selection-change="handleSelectionChange"
      height="400"
      class="room-table"
    >
      <el-table-column type="selection" width="55" />
      <el-table-column label="封面" width="120">
        <template #default="{ row }">
          <el-image
            :src="getCoverSrc(row.cover_url)"
            fit="cover"
            class="room-cover"
          />
        </template>
      </el-table-column>
      <el-table-column label="标题" prop="title" min-width="200" />
      <el-table-column label="状态" width="100">
        <template #default="{ row }">
          <el-tag :type="getStatusType(row.status)" size="small">
            {{ getStatusText(row.status) }}
          </el-tag>
        </template>
      </el-table-column>
      <el-table-column label="创建时间" width="160">
        <template #default="{ row }">
          {{ formatDateTime(row.created_at) }}
        </template>
      </el-table-column>
    </el-table>

    <!-- 底部信息 -->
    <div class="selection-info">
      <span>已选择 {{ selectedRooms.length }} 个直播间</span>
    </div>

    <!-- 操作按钮 -->
    <template #footer>
      <el-button @click="handleClose">取消</el-button>
      <el-button type="primary" @click="handleConfirm">
        确定选择 ({{ selectedRooms.length }})
      </el-button>
    </template>
  </el-dialog>
</template>
```

**组件功能**：
1. **搜索功能**：实时搜索直播间标题
2. **多选功能**：使用 `el-table` 的 `selection` 列
3. **数据展示**：显示封面、标题、状态、创建时间
4. **选择确认**：返回选中的直播间数据
5. **已选提示**：显示当前已选择的直播间数量

**组件Props**：
```typescript
interface Props {
  visible: boolean;
  selectedRooms: RoomInCategory[];
}

interface Emits {
  (e: 'update:visible', value: boolean): void;
  (e: 'confirm', rooms: RoomInCategory[]): void;
}
```

---

## 任务三：创建专题展示页面

文件路径：`/src/pages/topic/TopicDisplay.vue`

### 1. 页面布局（完全复用 VenueDisplayPage.vue）

**重要**：此页面必须完全复用 VenueDisplayPage.vue 的样式和布局结构，仅修改数据来源：

1) **顶部主视觉 Banner**
- 使用专题的 `banner_url` 作为背景图
- 如果没有 banner_url，使用默认占位图

2) **分类标签页**
- 动态渲染专题下的所有分类
- 每个分类作为一个 tab
- 分类名称来自 `categories[].name`

3) **直播间卡片列表**
- 完全复用 VenueDisplayPage.vue 的卡片样式
- 数据来源：`categories[].rooms[]`
- 卡片信息：封面、标题、状态、开始时间、热度

### 2. 逻辑与样式（<script setup> + <style scoped>）

**逻辑要点**：
- 路由参数：`?topic_id={专题ID}`
- 数据加载：调用 `topicStore.fetchTopicById(topicId)` 获取专题详情
- 分类切换：根据选中的分类显示对应的直播间列表
- 点击跳转：点击直播间卡片跳转到 LiveView 页面

**样式要点**：
- **完全复用** VenueDisplayPage.vue 的所有样式
- 仅调整数据绑定，不修改任何 CSS 样式

---

## 任务四：创建专题列表页面

文件路径：`/src/pages/topic/TopicList.vue`

### 1. 页面布局（<template>）

1) **页面头部**
- 页面标题："专题管理"
- "创建专题" 按钮

2) **筛选区域**
- 状态筛选：草稿/已发布/已归档
- 搜索框：按标题搜索
- 分页控件

3) **专题列表**
- 使用 `el-table` 展示专题列表
- 列：标题、状态、创建时间、操作
- 支持排序和分页

4) **操作按钮**
- 查看详情
- 编辑专题
- 删除专题

### 2. 逻辑与样式（<script setup> + <style scoped>）

**逻辑要点**：
- 数据加载：调用 `topicStore.fetchTopics()` 获取专题列表
- 筛选功能：支持按状态和标题筛选
- 分页功能：集成 Element Plus 的分页组件
- 操作功能：查看、编辑、删除专题

---

## 任务五：创建专题管理页面

文件路径：`/src/pages/topic/TopicManage.vue`

### 1. 页面布局（<template>）

1) **页面头部**
- 专题标题和状态
- 编辑/发布/归档按钮

2) **基本信息编辑**
- 专题标题、描述编辑
- Banner图片重新上传

3) **分类管理**
- 分类列表展示
- 添加/编辑/删除分类
- 分类排序

4) **直播间管理**
- 按分类展示直播间
- 添加/移除直播间
- 直播间排序

### 2. 逻辑与样式（<script setup> + <style scoped>）

**逻辑要点**：
- 数据加载：获取专题详情和分类信息
- 分类管理：CRUD操作
- 直播间关联：添加/移除/排序
- 状态管理：发布/归档专题

---

## 任务六：路由配置

文件路径：`/src/pages.json`

### 新增路由配置

```json
{
  "path": "pages/topic/TopicList",
  "style": {
    "navigationBarTitleText": "专题管理"
  }
},
{
  "path": "pages/topic/TopicCreate", 
  "style": {
    "navigationBarTitleText": "创建专题"
  }
},
{
  "path": "pages/topic/TopicDisplay",
  "style": {
    "navigationBarTitleText": "专题展示"
  }
},
{
  "path": "pages/topic/TopicManage",
  "style": {
    "navigationBarTitleText": "专题管理"
  }
}
```

### 从 RoomManage 页面跳转

在 `RoomManage.vue` 页面的"基本设置"功能区添加"营销专题"按钮：

```vue
<!-- 在基本设置区域添加营销专题按钮 -->
<el-col :span="6">
  <el-card class="function-card" :class="{ 'clickable': true }" @click="goToTopicCreate">
    <div class="card-content">
      <el-icon class="card-icon" :size="32" color="#409eff"><Promotion /></el-icon>
      <div class="card-title">营销专题</div>
      <div class="card-desc">创建和管理营销专题活动</div>
      <el-button type="primary" size="small" class="enter-button">进入</el-button>
    </div>
  </el-card>
</el-col>
```

**跳转方法**：
```typescript
// 跳转到专题创建页面
const goToTopicCreate = () => {
  const roomId = getRoomId()
  if (roomId) {
    uni.navigateTo({
      url: `/pages/topic/TopicCreate?room_id=${roomId}`
    })
  }
}
```

### 从 LiveView 页面跳转到专题展示

在 `LiveView.vue` 页面的返回按钮区域添加"返回营销专题"按钮：

```vue
<!-- 在固定页面标题区域添加返回营销专题按钮 -->
<view class="fixed-header">
  <view class="header-left">
    <!-- #ifndef MP -->
    <AppButton v-if="showBackButtons" type="primary" size="small" @click="goBackToList">返回直播列表页</AppButton>
    <AppButton v-if="showBackButtons" type="primary" size="small" @click="goBackToRoom">返回房间详情页</AppButton>
    <AppButton v-if="showBackButtons && currentTopicId" type="success" size="small" @click="goToTopicDisplay">返回营销专题</AppButton>
    <!-- #endif -->
  </view>
  <view class="header-right">
    <!-- 预留右侧按钮位置 -->
  </view>
</view>
```

**跳转方法**：
```typescript
// 跳转到专题展示页面
const goToTopicDisplay = () => {
  if (currentTopicId.value) {
    uni.navigateTo({
      url: `/pages/topic/TopicDisplay?topic_id=${currentTopicId.value}`
    })
  } else {
    uni.showToast({
      title: '无法获取专题信息',
      icon: 'none'
    })
  }
}
```

**获取专题ID逻辑**：
- 在 LiveView 页面加载时，通过 `room_id` 查询该直播间关联的专题
- 调用 `GET /api/v1/rooms/{room_id}/topics` API 获取专题列表
- 如果存在已发布的专题，则显示"返回营销专题"按钮
- 将专题ID存储在响应式变量中供跳转使用

**完整实现代码**：
```typescript
// 在 LiveView.vue 中添加
const currentTopicId = ref<string | null>(null);

// 获取直播间关联的专题信息
const fetchRoomTopics = async (roomId: string) => {
  try {
    const response = await topicApi.getRoomTopics(roomId);
    if (response && response.data && response.data.length > 0) {
      // 获取第一个已发布的专题
      const publishedTopic = response.data.find(topic => topic.topic_status === 'published');
      if (publishedTopic) {
        currentTopicId.value = publishedTopic.topic_id;
        console.log('找到关联专题:', publishedTopic.topic_title);
      }
    }
  } catch (error) {
    console.error('获取专题信息失败:', error);
    currentTopicId.value = null;
  }
};

// 跳转到专题展示页面
const goToTopicDisplay = () => {
  if (currentTopicId.value) {
    uni.navigateTo({
      url: `/pages/topic/TopicDisplay?topic_id=${currentTopicId.value}`
    });
  } else {
    uni.showToast({
      title: '无法获取专题信息',
      icon: 'none'
    });
  }
};
```

**按钮显示逻辑**：
- 只有当 `currentTopicId` 存在且 `showBackButtons` 为 true 时才显示"返回营销专题"按钮
- 按钮使用 `type="success"` 样式，与其他返回按钮区分
- 点击后跳转到专题展示页面，传递 `topic_id` 参数

---

## 任务七：API 请求封装

文件路径：`/src/api/topic.ts`

### 1. API 请求函数

```typescript
// 专题相关 API
export const topicApi = {
  // 专题 CRUD
  getTopics: (params?: TopicListParams) => request.get('/api/v1/topics', { params }),
  getTopicById: (topicId: string) => request.get(`/api/v1/topics/${topicId}`),
  createTopic: (data: TopicCreate) => request.post('/api/v1/topics', data),
  updateTopic: (topicId: string, data: TopicUpdate) => request.patch(`/api/v1/topics/${topicId}`, data),
  deleteTopic: (topicId: string) => request.delete(`/api/v1/topics/${topicId}`),
  
  // 分类管理
  getCategories: (topicId: string) => request.get(`/api/v1/topics/${topicId}/categories`),
  createCategory: (topicId: string, data: CategoryCreate) => request.post(`/api/v1/topics/${topicId}/categories`, data),
  updateCategory: (categoryId: string, data: CategoryUpdate) => request.patch(`/api/v1/topic-categories/${categoryId}`, data),
  deleteCategory: (categoryId: string) => request.delete(`/api/v1/topic-categories/${categoryId}`),
  
  // 直播间关联
  getCategoryRooms: (categoryId: string) => request.get(`/api/v1/topic-categories/${categoryId}/rooms`),
  addRoomsToCategory: (categoryId: string, data: AddRoomsRequest) => request.post(`/api/v1/topic-categories/${categoryId}/rooms`, data),
  updateRoomSortOrder: (categoryId: string, data: UpdateRoomSortRequest) => request.patch(`/api/v1/topic-categories/${categoryId}/rooms/sort-order`, data),
  removeRoomsFromCategory: (categoryId: string, data: RemoveRoomsRequest) => request.delete(`/api/v1/topic-categories/${categoryId}/rooms`, { data }),
  
  // 辅助查询
  getRoomTopics: (roomId: string) => request.get(`/api/v1/rooms/${roomId}/topics`),
  getBatchRoomStatus: (data: BatchStatusRequest) => request.post('/api/v1/rooms/batch-status', data)
};
```

---

## 关键实现要点 Checklist

### 状态管理
- [ ] 创建 topic.ts Pinia store
- [ ] 定义完整的 TypeScript 类型
- [ ] 实现所有 CRUD 操作方法
- [ ] 集成错误处理和加载状态

### 页面开发
- [ ] TopicCreate.vue - 专题创建页面
- [ ] TopicDisplay.vue - 专题展示页面（复用 VenueDisplayPage 样式）
- [ ] TopicList.vue - 专题列表页面
- [ ] TopicManage.vue - 专题管理页面

### API 集成
- [ ] 创建 topic.ts API 封装
- [ ] 集成 JWT Token 认证
- [ ] 实现错误处理和重试机制
- [ ] 支持分页和筛选参数

### 路由配置
- [ ] 在 pages.json 中添加专题相关路由
- [ ] 配置页面标题和导航栏
- [ ] 实现页面间的跳转逻辑

### 样式和交互
- [ ] 专题展示页面完全复用 VenueDisplayPage 样式
- [ ] 其他页面使用 Element Plus 组件
- [ ] 实现响应式布局
- [ ] 优化用户体验和交互反馈

### 数据验证
- [ ] 表单验证规则
- [ ] 图片上传验证
- [ ] 直播间选择验证
- [ ] 分类管理验证

---

## 代码结构建议

```
src/
  store/
    topic.ts                    # 专题状态管理
  api/
    topic.ts                    # 专题 API 封装
  pages/
    topic/
      TopicCreate.vue          # 专题创建页面
      TopicDisplay.vue         # 专题展示页面
      TopicList.vue            # 专题列表页面
      TopicManage.vue          # 专题管理页面
  types/
    topic.ts                   # 专题相关类型定义
```

---

## 生成要求

1) **完全复用现有架构**：使用现有的 API 请求工具、状态管理方式、UI 组件库
2) **样式复用**：TopicDisplay.vue 必须完全复用 VenueDisplayPage.vue 的样式和布局
3) **类型安全**：使用 TypeScript 定义完整的类型系统
4) **错误处理**：集成统一的错误处理和用户反馈机制
5) **响应式设计**：所有页面支持移动端适配
6) **性能优化**：合理使用缓存和分页，避免不必要的请求
7) **用户体验**：提供清晰的加载状态、错误提示和操作反馈

---

## 特别说明

### 关于 VenueDisplayPage 样式复用
- TopicDisplay.vue 必须**完全复制** VenueDisplayPage.vue 的 `<template>` 和 `<style>` 部分
- 仅修改 `<script setup>` 中的数据来源和逻辑
- 确保视觉效果与 VenueDisplayPage.vue 完全一致

### 关于图片上传
- 复用现有的图片上传工具和认证机制
- 支持 JWT Token 认证的图片访问
- 实现上传进度和错误处理

### 关于直播间选择
- 从现有的 room store 获取直播间数据
- 实现去重逻辑（同一专题内不能重复选择）
- 支持搜索和筛选功能

### 关于分类管理
- 支持动态添加/删除分类
- 每个分类可以分配选中的直播间
- 支持拖拽排序功能

---

**文档版本**: V1.0  
**创建日期**: 2025-01-27  
**基于**: 后端专题功能设计文档 + VenueDisplayPage 页面代码生成提示词  
**目标**: 从零开始构建完整的专题功能前端页面
